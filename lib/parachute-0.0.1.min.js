/*! parachutejs 0.0.1 | https://github.com/derekborland/parachutejs.git */
!function(t,e,r,i){function n(){this.defaults={pageWrapper:"#pageWrapper",scrollContainer:"#scrollContainer",heightContainer:"#heightContainer"},this.opts,this.$pageWrapper,this.$scrollContainer,this.$heightContainer,this.$win,this.winHeight,this.winWidth,this.scrollTop=0,this.currentScrollTop=0,this.parallaxArr=[],this.parallaxArrLength=0,this.sequenceArr=[],this.sequenceArrLength=0,this.triggerOffset=200}n.prototype.page=function(e){this.opts=t.extend({},this.defaults,e),this.$pageWrapper=t(this.opts.pageWrapper),this.$scrollContainer=t(this.opts.scrollContainer),this.$heightContainer=t(this.opts.heightContainer)},n.prototype.parallax=function(e){this.parallaxArr.push({element:e.element,speed:e.speed||1,boundingBox:t(e.element)[0].getBoundingClientRect(),currentScrollTop:0}),this.parallaxArrLength++},n.prototype.sequence=function(e){this.sequenceArr.push({element:e.element,callback:e.callback,offset:e.offset,boundingBox:t(e.element)[0].getBoundingClientRect()}),this.sequenceArrLength++},n.prototype.init=function(){this.$win=t(e),this.$win.scroll(t.proxy(this.onScroll,this)),this.$win.resize(t.proxy(this.onResize,this)),this.onResize(),this.updateHeight(),this.onEnterFrame()},n.prototype.updateHeight=function(){this.$heightContainer.css("height",this.$scrollContainer.height())},n.prototype.onResize=function(){this.$win=t(e),this.winHeight=this.$win.height(),this.winWidth=this.$win.width()},n.prototype.onScroll=function(){this.scrollTop=e.pageYOffset||r.documentElement.scrollTop},n.prototype.onEnterFrame=function(){requestAnimationFrame(t.proxy(this.onEnterFrame,this)),this.scrollEasing(),this.parallaxAnimations(),this.sequenceAnimations()},n.prototype.scrollEasing=function(){this.currentScrollTop+=.075*(this.scrollTop-this.currentScrollTop),this.currentScrollTop<1&&(this.currentScrollTop=0),this.$scrollContainer.css({transform:"translateY("+-this.currentScrollTop+"px) translateZ(0)"})},n.prototype.parallaxAnimations=function(){for(var e=0;e<this.parallaxArrLength;e++)this.elementInView(e)&&(this.parallaxArr[e].currentScrollTop+=.075*((this.parallaxArr[e].boundingBox.top-this.winHeight-this.scrollTop)/4-this.parallaxArr[e].currentScrollTop),t(this.parallaxArr[e].element).css({transform:"translateY("+this.parallaxArr[e].currentScrollTop*this.parallaxArr[e].speed+"px) translateZ(0)"}))},n.prototype.elementInView=function(t){return this.scrollTop>this.parallaxArr[t].boundingBox.top-this.winHeight-this.triggerOffset&&this.scrollTop<this.parallaxArr[t].boundingBox.top+this.parallaxArr[t].boundingBox.height+this.triggerOffset},n.prototype.sequenceAnimations=function(){for(var t=0;t<this.sequenceArrLength;t++)this.sequenceElementInView(t)?this.sequenceArr[t].callback(!0):this.sequenceArr[t].callback(!1)},n.prototype.sequenceElementInView=function(t){return this.scrollTop>this.sequenceArr[t].boundingBox.top-this.winHeight+Number(this.sequenceArr[t].offset)},e.Parachute=new n}(jQuery,window,document);