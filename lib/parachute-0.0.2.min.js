/**
 * parachutejs - inertia scrolling/parallax js library
 * @version v0.0.2
 * @link https://github.com/derekborland/parachutejs#readme
 * @license MIT
 */
!function(t,r,e,o){function i(){this.defaults={scrollContainer:"#scrollContainer",heightContainer:"#heightContainer"},this.opts,this.$pageWrapper,this.$scrollContainer,this.$heightContainer,this.$win,this.winHeight,this.winWidth,this.scrollTop=0,this.currentScrollTop=0,this.parallaxArr=[],this.parallaxArrLength=0,this.sequenceArr=[],this.sequenceArrLength=0,this.triggerOffset=200,this.bottomTriggerOffset=250}i.prototype.page=function(r){this.opts=t.extend({},this.defaults,r),this.$scrollContainer=t(this.opts.scrollContainer),this.$heightContainer=t(this.opts.heightContainer)},i.prototype.parallax=function(r){this.parallaxArr.push({element:r.element,$element:t(r.element),speed:r.speed||1,pxToMove:r.pxToMove||0,topTriggerOffset:r.topTriggerOffset||0,boundingBox:t(r.element)[0].getBoundingClientRect(),currentScrollTop:0}),this.parallaxArrLength++},i.prototype.sequence=function(r){this.sequenceArr.push({element:r.element,callback:r.callback,offset:r.offset||300,boundingBox:t(r.element)[0].getBoundingClientRect()}),this.sequenceArrLength++},i.prototype.init=function(){this.$win=t(r),this.$win.scroll(t.proxy(this.onScroll,this)),this.$win.resize(t.proxy(this.onResize,this)),this.onResize(),this.updateHeight(),this.onEnterFrame()},i.prototype.updateHeight=function(){this.$heightContainer.css("height",this.$scrollContainer.height())},i.prototype.onResize=function(){this.$win=t(r),this.winHeight=this.$win.height(),this.winWidth=this.$win.width()},i.prototype.onScroll=function(){this.scrollTop=r.pageYOffset||e.documentElement.scrollTop},i.prototype.onEnterFrame=function(){requestAnimationFrame(t.proxy(this.onEnterFrame,this)),this.scrollEasing(),this.parallaxAnimations(),this.sequenceAnimations()},i.prototype.scrollEasing=function(){this.currentScrollTop+=.075*(this.scrollTop-this.currentScrollTop),this.currentScrollTop<1&&(this.currentScrollTop=0),this.$scrollContainer.css({transform:"translateY("+-this.currentScrollTop+"px) translateZ(0)"})},i.prototype.parallaxAnimations=function(){for(var t=0;t<this.parallaxArrLength;t++){var r=this.parallaxArr[t].boundingBox.top+this.parallaxArr[t].boundingBox.height-this.parallaxArr[t].topTriggerOffset,e=this.parallaxArr[t].boundingBox.top-this.winHeight,o=this.parallaxArr[t].pxToMove/this.winHeight;this.scrollTop>e&&this.scrollTop<r&&(this.parallaxArr[t].currentScrollTop+=.075*((this.scrollTop-e)*o-this.parallaxArr[t].currentScrollTop),this.parallaxArr[t].currentScrollTop<this.parallaxArr[t].pxToMove&&(this.parallaxArr[t].currentScrollTop=this.parallaxArr[t].pxToMove)),this.scrollTop<e&&(this.parallaxArr[t].currentScrollTop-=.075*this.parallaxArr[t].currentScrollTop,this.parallaxArr[t].currentScrollTop>=-1&&(this.parallaxArr[t].currentScrollTop=0)),this.scrollTop>r&&(console.log("top:",r,"scrollTop",this.scrollTop),this.parallaxArr[t].currentScrollTop+=Math.round(.075*this.parallaxArr[t].currentScrollTop),this.parallaxArr[t].currentScrollTop<=this.parallaxArr[t].pxToMove+1&&(this.parallaxArr[t].currentScrollTop=this.parallaxArr[t].pxToMove)),this.parallaxArr[t].$element.css({transform:"translateY("+this.parallaxArr[t].currentScrollTop+"px) translateZ(0)","backface-visibility":"hidden"})}},i.prototype.elementInView=function(t){return this.scrollTop>this.parallaxArr[t].boundingBox.top-this.winHeight-this.triggerOffset&&this.scrollTop<this.parallaxArr[t].boundingBox.top+this.parallaxArr[t].boundingBox.height+this.triggerOffset},i.prototype.sequenceAnimations=function(){for(var t=0;t<this.sequenceArrLength;t++)this.sequenceElementInView(t)?this.sequenceArr[t].callback(!0):this.sequenceArr[t].callback(!1)},i.prototype.sequenceElementInView=function(t){return this.scrollTop>this.sequenceArr[t].boundingBox.top-this.winHeight+Number(this.sequenceArr[t].offset)},i.prototype.scrollTo=function(t,r){},r.Parachute=new i}(jQuery,window,document);